@model QuanLyQuanNuoc_65130449.Models.SanPham
@{
    ViewBag.Title = "Chỉnh sửa sản phẩm";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="bg-white rounded-lg shadow p-6 max-w-2xl">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Chỉnh sửa sản phẩm</h2>

    @using (Html.BeginForm("Edit_SP", "AdminController_65130449", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.MaSP)

        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Tên sản phẩm</label>
                @Html.TextBoxFor(m => m.TenSP, new { @class = "w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500", required = "required" })
                @Html.ValidationMessageFor(m => m.TenSP, "", new { @class = "text-red-600 text-sm" })
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Đơn giá</label>
                @Html.TextBoxFor(m => m.DonGia, new { @class = "w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500", type = "number", step = "0.01", min = "0", required = "required" })
                @Html.ValidationMessageFor(m => m.DonGia, "", new { @class = "text-red-600 text-sm" })
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Danh mục</label>
                @Html.DropDownListFor(m => m.MaDanhMuc, ViewBag.DanhMucs as SelectList, "Chọn danh mục", new { @class = "w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500", required = "required" })
                @Html.ValidationMessageFor(m => m.MaDanhMuc, "", new { @class = "text-red-600 text-sm" })
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Hình ảnh hiện tại</label>
                @if (!string.IsNullOrEmpty(Model.HinhAnh))
                {
                    <div class="mb-2">
                        <img src="@Model.HinhAnh" alt="@Model.TenSP" class="w-32 h-32 object-cover rounded-lg border border-gray-300" />
                    </div>
                }
                else
                {
                    <p class="text-gray-500 text-sm mb-2">Chưa có ảnh</p>
                }
                <label class="block text-sm font-medium text-gray-700 mb-1">Thay đổi hình ảnh (tùy chọn)</label>
                <input type="file" name="fileUpload" accept="image/*" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500" />
                <p class="text-xs text-gray-500 mt-1">Chấp nhận: JPG, PNG, GIF. Để trống nếu không muốn thay đổi.</p>
            </div>

            <div class="flex space-x-4 pt-4">
                <button type="submit" class="bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg font-medium shadow-md shadow-emerald-200/70">
                    <i class="fas fa-save mr-2"></i>Cập nhật
                </button>
                <a href="@Url.Action("DS_SP", "AdminController_65130449")" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg font-medium">
                    Hủy
                </a>
            </div>
        </div>
    }
</div>
